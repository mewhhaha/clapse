{
  "scenarios": [
    {
      "name": "valid_source_hover_null",
      "source": "id x = x\nmain x = id x\n",
      "hover": {
        "line": 0,
        "character": 0
      },
      "expectedDiagnostics": 0,
      "hoverExpectation": {
        "contains": "id x = x"
      },
      "formatting": true,
      "formattingExpectation": {
        "expectedEditCount": 1,
        "sameAsSource": true
      }
    },
    {
      "name": "invalid_source_hover_null",
      "source": "let x =",
      "hover": {
        "line": 0,
        "character": 4
      },
      "expectedDiagnostics": 0,
      "hoverExpectation": null
    },
    {
      "name": "definition_rename_and_code_action",
      "source": "inc x = x\nmain x = inc x\n",
      "hover": {
        "line": 1,
        "character": 10
      },
      "expectedDiagnostics": 0,
      "hoverExpectation": {
        "contains": "inc x = x"
      },
      "definition": {
        "line": 1,
        "character": 10
      },
      "definitionExpectation": {
        "line": 0,
        "character": 0
      },
      "expectedBackends": {
        "hover": "clapse",
        "definition": "clapse"
      },
      "prepareRename": {
        "line": 1,
        "character": 10
      },
      "prepareRenameExpectation": {
        "line": 1,
        "character": 9,
        "placeholder": "inc"
      },
      "rename": {
        "line": 0,
        "character": 0,
        "newName": "double",
        "expectedEditCount": 2
      },
      "references": {
        "line": 1,
        "character": 10,
        "includeDeclaration": true
      },
      "referencesExpectation": {
        "expectedCount": 2,
        "sameUri": true
      },
      "documentSymbols": true,
      "documentSymbolsExpectation": {
        "minCount": 2,
        "containsName": "inc"
      },
      "codeAction": {
        "line": 0,
        "character": 0
      },
      "codeActionExpectation": {
        "titleContains": "Rename 'inc'"
      }
    },
    {
      "name": "where_method_hover_contains_doc",
      "source": "class Functor f where\n  --| Map over a functor value.\n  fmap : (a -> b) -> f a -> f b\nmain x = x\n",
      "hover": {
        "line": 2,
        "character": 4
      },
      "expectedDiagnostics": 0,
      "hoverExpectation": {
        "contains": "Map over a functor value."
      }
    },
    {
      "name": "definition_missing_symbol_has_diagnostics",
      "source": "import Missing\nmain x = x\n",
      "sourceFile": "src/main.clapse",
      "hover": {
        "line": 0,
        "character": 7
      },
      "expectedDiagnosticsAtLeast": 1,
      "projectConfig": {
        "include": ["src"]
      },
      "hoverExpectation": null,
      "definition": {
        "line": 0,
        "character": 7
      },
      "definitionExpectation": null
    },
    {
      "name": "scoped_import_allowed",
      "source": "import Allowed\nmain x = x\n",
      "sourceFile": "src/main.clapse",
      "hover": {
        "line": 1,
        "character": 0
      },
      "projectConfig": {
        "include": ["src"]
      },
      "projectFiles": {
        "src/Allowed.clapse": "module Allowed\nmain x = x\n"
      },
      "expectedDiagnostics": 0,
      "hoverExpectation": {
        "contains": "main x = x"
      }
    },
    {
      "name": "scoped_import_blocked",
      "source": "import Private\nmain x = x\n",
      "sourceFile": "src/main.clapse",
      "hover": {
        "line": 1,
        "character": 0
      },
      "projectConfig": {
        "include": ["src"]
      },
      "expectedDiagnosticsAtLeast": 1,
      "hoverExpectation": {
        "contains": "main x = x"
      }
    }
  ]
}
